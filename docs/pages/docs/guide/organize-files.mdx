import { FileIcon, NewsletterIcon } from '@components/icons'
import { Card, Cards, FileTree } from 'nextra/components'

# 组织文件结构

Nextra 首先从 `pages` 目录收集所有的 Markdown 文件和配置，然后生成您整个网站的“页面映射信息”，以渲染如下内容：_导航栏_ 和 _侧边栏_：

<br />

<figure>
  <>![Nextra 主题文档示例](/assets/routing@1x.png)</>
  <figcaption>
    示例：[Nextra 文档主题](/docs/docs-theme) 会从 Markdown 文件自动生成侧边栏和导航栏。
  </figcaption>
</figure>

## 默认行为

默认情况下，页面映射包含所有 `.md` 和 `.mdx` 文件名及其目录结构，按字母顺序排序。然后，Nextra 将使用 [title](https://github.com/vercel/title) 包从文件名获取格式化的页面名称。

例如，如果您有以下结构：

<FileTree>
  <FileTree.Folder name="pages" defaultOpen>
    <FileTree.File name="contact.md" />
    <FileTree.File name="index.mdx" />
    <FileTree.Folder name="about" defaultOpen>
      <FileTree.File name="legal.md" />
      <FileTree.File name="index.mdx" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

解析出的页面映射将会是（注意所有名称都按字母排序）：

```json
[
  {
    "name": "About",
    "children": [{ "name": "Index" }, { "name": "Legal" }]
  },
  { "name": "Contact" },
  { "name": "Index" }
]
```

然后，全局页面映射将被 Nextra 打包到每个页面中。之后，配置的主题将使用该页面映射渲染实际的用户界面。

## `_meta.json`

通常需要自定义每个页面的标题，而不仅仅依赖文件名。标题为“首页”的页面缺乏清晰度。更好的做法是赋予一个准确反映内容的有意义的标题，如“主页”。

这就是 _meta.json 的用途。您可以在每个目录中拥有一个 _meta.json 文件，它将用来覆盖每个页面的默认配置：

<FileTree>
  <FileTree.Folder name="pages" defaultOpen>
    <FileTree.File name="_meta.json" />
    <FileTree.File name="contact.md" />
    <FileTree.File name="index.mdx" />
    <FileTree.Folder name="about" defaultOpen>
      <FileTree.File name="_meta.json" />
      <FileTree.File name="legal.md" />
      <FileTree.File name="index.mdx" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

您可以在 `pages/_meta.json` 文件中这样设置：

```json filename="pages/_meta.json"
{
  "index": "My Homepage",
  "contact": "Contact Us",
  "about": "About Us"
}
```

它告诉 Nextra 每个页面的顺序和正确的标题。或者，您也可以使用 `title` 并在其中加入其他配置：

```json filename="pages/_meta.json"
{
  "index": "My Homepage",
  "contact": "Contact Us",
  "about": {
    "title": "About Us",
    "...extra configurations...": "..."
  }
}
```

额外的配置将作为附加信息传递给**主题**。更多信息请查看对应页面：

<Cards>
  <Card
    icon={<NewsletterIcon />}
    title="文档主题 →"
    href="/docs/docs-theme/page-configuration"
  />
  <Card
    icon={<FileIcon />}
    title="博客主题 →"
    href="/docs/blog-theme/start"
  />
</Cards>
